<html lang="en-US">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>BroadcastChannel</title>
    <script>
        window.captureFlag = "TEST123";

        const bc_a = new BroadcastChannel("test_a");
        bc_a.onmessage = (msg)=>{
            console.log(`Message from frame A:`);
            console.dir(msg);
        }

        const bc_b = new BroadcastChannel("test_b");
        bc_b.onmessage = (msg)=>{
            console.log(`Message from frame B:`);
            console.dir(msg);
        }

        const bc_c = new BroadcastChannel("test_c");
        bc_c.onmessage = (msg)=>{
            console.log(`Message from frame C:`);
            console.dir(msg);
        }
    </script>   
</head>
<body style="text-align: center;">
    <h1>BroadcastChannel Test</h1>
	<iframe
        id="testframea"
        title="Test Frame A"
        width="100%"
        height="100px"
        src="./testframeA.html">
    </iframe>

    <iframe
        id="testframeb"
        title="Test Frame B"
        width="100%"
        height="100px"
        src="./testframeB.html"
        sandbox="allow-scripts">
    </iframe>

     <iframe
        id="testframecouter"
        title="Test Frame C Outer"
        width="100%"
        height="100px"
        src="./testframeC_outer.html"
        sandbox="allow-scripts">
    </iframe>
   
</body>
</html>